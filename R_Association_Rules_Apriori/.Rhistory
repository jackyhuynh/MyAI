ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
View(adult)
str(adult)
adult$age_category = 0
mutate(adult, age_category = ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
str(adult)
adult$age_category %>% mutate(adult, age_category = ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
adult$age_category <- mutate(adult, age_category = ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
str(adult)
View(adult)
age_category$age=age_category$age_category
mutate(adult, age_category = ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
age_category$age=age_category$age_category
str(adult)
str(adult)
View(adult)
adult <- read.csv("~/R/DataMining/HW2/adult.data", header=FALSE)
#View(adult)
names(adult) <- c("age", "workclass", "fnlwgt", "education", "education-num", "marital-status", "occupation", "relationship"
, "race", "sex", "capital-gain", "capital-loss", "hours-per-week", "naitive-country", "salary")
View(adult)
str(adult)
adult$age_category = 0
mutate(adult, age_category = ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
View(age_category)
View(adult)
mutate(adult, age= ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
adult <- read.csv("~/R/DataMining/HW2/adult.data", header=FALSE)
#View(adult)
names(adult) <- c("age", "workclass", "fnlwgt", "education", "education-num", "marital-status", "occupation", "relationship"
, "race", "sex", "capital-gain", "capital-loss", "hours-per-week", "naitive-country", "salary")
summary(adult)
str(adult)
mutate(adult, age= ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
View(adult)
transmute(adult, age= ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
View(adult)
adult <- read.csv("~/R/DataMining/HW2/adult.data", header=FALSE)
#View(adult)
names(adult) <- c("age", "workclass", "fnlwgt", "education", "education-num", "marital-status", "occupation", "relationship"
, "race", "sex", "capital-gain", "capital-loss", "hours-per-week", "naitive-country", "salary")
View(adult)
transmute(adult, age= ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
View(adult)
adult <- read.csv("~/R/DataMining/HW2/adult.data", header=FALSE)
#View(adult)
names(adult) <- c("age", "workclass", "fnlwgt", "education", "education-num", "marital-status", "occupation", "relationship"
, "race", "sex", "capital-gain", "capital-loss", "hours-per-week", "naitive-country", "salary")
age_category <- transmute(adult, age= ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old"))))
View(age_category)
adult$age <- age_category$age
View(adult)
adult <- read.csv("~/R/DataMining/HW2/adult.data", header=FALSE)
#View(adult)
names(adult) <- c("age", "workclass", "fnlwgt", "education", "education-num", "marital-status", "occupation", "relationship"
, "race", "sex", "capital-gain", "capital-loss", "hours-per-week", "naitive-country", "salary")
adult$age= ifelse(adult$age %in% 0:29, "young",
ifelse(adult$age %in% 30:49, "middle-aged",
ifelse(adult$age %in% 50:69, "senior","old")))
View(adult)
adult <- read.csv("~/R/DataMining/HW2/adult.data", header = FALSE)
#View(adult)
names(adult) <-
c(
"age",
"workclass",
"fnlwgt",
"education",
"educationNum",
"maritalStatus",
"occupation",
"relationship"
,
"race",
"sex",
"capitalGain",
"capitalLoss",
"hoursPerWeek",
"naitiveCountry",
"salary"
)
View(adult)
adult$age <- ifelse(adult$age %in% 0:29,
"young",
ifelse(
adult$age %in% 30:49,
"middle-aged",
ifelse(adult$age %in% 50:69, "senior", "old")
))
adult$capitalGain <- ifelse(
adult$capitalGain <= 0,
"none ",
ifelse(
adult$capitalGain %in% 1:1999,
"small ",
ifelse(adult$capitalGain %in% 2000:4999, "medium", "high")
)
)
adult$capitalLoss <- ifelse(
adult$capitalLoss <= 0,
"none ",
ifelse(
adult$capitalLoss %in% 1:1999,
"small ",
ifelse(adult$capitalLoss %in% 2000:4999, "medium", "high")
)
)
adult$hoursPerWeek <- ifelse(
adult$hoursPerWeek <= 25,
"half-time",
ifelse(
adult$hoursPerWeek %in% 26:40,
"full-time",
ifelse(adult$hoursPerWeek %in% 41:60, "overtime", "too-many")
)
)
View(adult)
str(titanic.raw)
str(adult)
adult$fnlwgt <- NULL
str(adult)
> library("arules")
library("arules")
adult_transaction_sample <- read.table("~/R/DataMining/HW2/adult_transaction_sample.data", quote="\"", comment.char="")
View(adult_transaction_sample)
adult_transaction <- adult
View(adult_transaction)
library(arules)
library(arulesViz)
str(Titanic)
str(Titanic)
#View(Titanic)
df <- as.data.frame(Titanic)
head(df)
titanic.raw <- NULL
for (i in 1:4) {
titanic.raw <- cbind(titanic.raw, rep(as.character(df[, i]), df$Freq))
}
titanic.raw <- as.data.frame(titanic.raw) #
names(titanic.raw) <- names(df)[1:4]
dim(titanic.raw)
str(titanic.raw)
head(titanic.raw)
View(titanic.raw)
# find association rules with default settings
rules.all <- apriori(titanic.raw)
rules.all
inspect(rules.all)
adult_transaction <- as(adult,"transactions")
View(adult_transaction)
str(adult_transaction)
adult_transaction.data <- as(adult,"transactions")
? discretizeDF
adult_transaction@itemInfo[["variables"]]
adult_transaction@itemInfo[["labels"]]
adult_transaction@itemInfo[["levels"]]
str(adult_transaction)
source('~/R/DataMining/HW2/Script.R')
source('~/R/DataMining/HW2/Script.R')
View(adult_transaction.data)
View(rules.all)
View(adult)
View(adult_transaction)
library(dplyr)
library("arules")
adult <- read.csv("~/R/DataMining/HW2/adult.data", header = FALSE)
#View(adult)
names(adult) <-
c(
"age",
"workclass",
"fnlwgt",
"education",
"educationNum",
"maritalStatus",
"occupation",
"relationship"
,
"race",
"sex",
"capitalGain",
"capitalLoss",
"hoursPerWeek",
"naitiveCountry",
"salary"
)
View(adult)
adult_transaction_sample <- read.table("~/R/DataMining/HW2/adult_transaction_sample.data", quote="\"", comment.char="")
View(adult_transaction_sample)
adult$age <- ifelse(adult$age %in% 0:29,
"young",
ifelse(
adult$age %in% 30:49,
"middle-aged",
ifelse(adult$age %in% 50:69, "senior", "old")
))
adult$capitalGain <- ifelse(
adult$capitalGain <= 0,
"none ",
ifelse(
adult$capitalGain %in% 1:1999,
"small ",
ifelse(adult$capitalGain %in% 2000:4999, "medium", "high")
)
)
adult$capitalLoss <- ifelse(
adult$capitalLoss <= 0,
"none ",
ifelse(
adult$capitalLoss %in% 1:1999,
"small ",
ifelse(adult$capitalLoss %in% 2000:4999, "medium", "high")
)
)
adult$hoursPerWeek <- ifelse(
adult$hoursPerWeek <= 25,
"half-time",
ifelse(
adult$hoursPerWeek %in% 26:40,
"full-time",
ifelse(adult$hoursPerWeek %in% 41:60, "overtime", "too-many")
)
)
adult$fnlwgt <- NULL
View(adult)
View(adult)
View(adult_transaction_sample)
View(adult_transaction_sample)
adult$hoursPerWeek <- "hours="+adult$hoursPerWeek
adult$hoursPerWeek <-  sub("^", "hours=", adult$hoursPerWeek)
View(adult)
View(adult_transaction_sample)
View(adult_transaction_sample)
adult$age <-  sub("^", "age=", adult$age)
adult$workclass <-  sub("^", "workclass=", adult$workclass )
View(adult)
adult_transaction.data$education <-  sub("^", "education=", adult_transaction.data$education )
adult <- read.csv("~/R/DataMining/HW2/adult.data", header = FALSE)
#View(adult)
names(adult) <-
c(
"age",
"workclass",
"fnlwgt",
"education",
"educationNum",
"maritalStatus",
"occupation",
"relationship"
,
"race",
"sex",
"capitalGain",
"capitalLoss",
"hoursPerWeek",
"naitiveCountry",
"salary"
)
#View(adult)
summary(adult)
str(adult)
adult$age <- ifelse(adult$age %in% 0:29,
"young",
ifelse(
adult$age %in% 30:49,
"middle-aged",
ifelse(adult$age %in% 50:69, "senior", "old")
))
adult$capitalGain <- ifelse(
adult$capitalGain <= 0,
"none ",
ifelse(
adult$capitalGain %in% 1:1999,
"small ",
ifelse(adult$capitalGain %in% 2000:4999, "medium", "high")
)
)
adult$capitalLoss <- ifelse(
adult$capitalLoss <= 0,
"none ",
ifelse(
adult$capitalLoss %in% 1:1999,
"small ",
ifelse(adult$capitalLoss %in% 2000:4999, "medium", "high")
)
)
adult$hoursPerWeek <- ifelse(
adult$hoursPerWeek <= 25,
"half-time",
ifelse(
adult$hoursPerWeek %in% 26:40,
"full-time",
ifelse(adult$hoursPerWeek %in% 41:60, "overtime", "too-many")
)
)
adult_transaction.data <-adult
adult_transaction.data$fnlwgt <- NULL
adult_transaction.data$age <-  sub("^", "age=", adult_transaction.data$age)
adult_transaction.data$workclass <-  sub("^", "workclass=", adult_transaction.data$workclass )
adult_transaction.data$education <-  sub("^", "education=", adult_transaction.data$education )
adult_transaction.data$educationNum <-  sub("^", "edu_num=", adult_transaction.data$educationNum )
adult_transaction.data$maritalStatus <-  sub("^", "marital=", adult_transaction.data$maritalStatus )
adult_transaction.data$occupation <-  sub("^", "occupation=", adult_transaction.data$occupation )
adult_transaction.data$relationship <-  sub("^", "relationship=", adult_transaction.data$relationship )
adult_transaction.data$race <-  sub("^", "race=", adult_transaction.data$race )
adult_transaction.data$sex <-  sub("^", "sex=", adult_transaction.data$sex )
adult_transaction.data$capitalGain <-  sub("^", "gain=", adult_transaction.data$capitalGain )
adult_transaction.data$capitalLoss <-  sub("^", "loss=", adult_transaction.data$capitalLoss )
adult_transaction.data$hoursPerWeek <-  sub("^", "hours=", adult_transaction.data$hoursPerWeek)
adult_transaction.data$naitiveCountry <-  sub("^", "country=", adult_transaction.data$naitiveCountry)
adult_transaction.data$salary <-  sub("^", "salary=", adult_transaction.data$salary)
View(adult_transaction.data)
names(adult_transaction.data) <-
c(
"V1","V2","V3","V4","V5","V6","V7","V8","V9","V10","V11","V12","V13","V14"
)
View(adult_transaction.data)
View(adult_transaction_sample)
View(adult_transaction.data)
adult_transaction.data <- as(adult_transaction.data,"transactions")
View(adult_transaction.data)
adult_transaction.data@itemsetInfo
adult_transaction.data <-adult
adult_transaction.data$fnlwgt <- NULL
adult_transaction.data$age <-  sub("^", "age=", adult_transaction.data$age)
adult_transaction.data$workclass <-  sub("^", "workclass=", adult_transaction.data$workclass )
adult_transaction.data$education <-  sub("^", "education=", adult_transaction.data$education )
adult_transaction.data$educationNum <-  sub("^", "edu_num=", adult_transaction.data$educationNum )
adult_transaction.data$maritalStatus <-  sub("^", "marital=", adult_transaction.data$maritalStatus )
adult_transaction.data$occupation <-  sub("^", "occupation=", adult_transaction.data$occupation )
adult_transaction.data$relationship <-  sub("^", "relationship=", adult_transaction.data$relationship )
adult_transaction.data$race <-  sub("^", "race=", adult_transaction.data$race )
adult_transaction.data$sex <-  sub("^", "sex=", adult_transaction.data$sex )
adult_transaction.data$capitalGain <-  sub("^", "gain=", adult_transaction.data$capitalGain )
adult_transaction.data$capitalLoss <-  sub("^", "loss=", adult_transaction.data$capitalLoss )
adult_transaction.data$hoursPerWeek <-  sub("^", "hours=", adult_transaction.data$hoursPerWeek)
adult_transaction.data$naitiveCountry <-  sub("^", "country=", adult_transaction.data$naitiveCountry)
adult_transaction.data$salary <-  sub("^", "salary=", adult_transaction.data$salary)
names(adult_transaction.data) <-
c(
"V1","V2","V3","V4","V5","V6","V7","V8","V9","V10","V11","V12","V13","V14"
)
library(foreign)
write.foreign(mydata, "~/R/DataMining/HW2/adult_transaction.data.txt", "~/R/DataMining/HW2/adult_transaction.data.sas",   package="SAS")
write.foreign(adult_transaction.data, "~/R/DataMining/HW2/adult_transaction.data.txt", "~/R/DataMining/HW2/adult_transaction.data.sas",   package="SAS")
write.dta(adult_transaction.data, "~/R/DataMining/HW2/adult_transaction.data.dta")
# Create a temporary directory
dir.create(path = "tmp", showWarnings = FALSE)
# Write our data.frame to a csv
write.csv(orders, "./tmp/adult_transaction.data.csv")
# Write our data.frame to a csv
write.csv(adult_transaction.data, "./tmp/adult_transaction.data.csv")
# Read that csv back in
adult_transaction.data <- read.transactions(
file = "./tmp/adult_transaction.data.csv",
format = "single",
sep = ",",
rm.duplicates = T
)
# Read that csv back in
adult_transaction.data <- read.transactions(
file = "./tmp/adult_transaction.data.csv",
format = "single",
sep = ",",
cols=c("V1","V2","V3","V4","V5","V6","V7","V8","V9","V10","V11","V12","V13","V14"),
rm.duplicates = T
)
#read the data from the datafile
adult <- read.csv("~/R/DataMining/HW2/adult.data", header = FALSE)
#Assign header
names(adult) <-
c(
"age",
"workclass",
"fnlwgt",
"education",
"educationNum",
"maritalStatus",
"occupation",
"relationship"
,
"race",
"sex",
"capitalGain",
"capitalLoss",
"hoursPerWeek",
"naitiveCountry",
"salary"
)
# do a sumary on adult data frame
summary(adult)
str(adult)
# Convert numeric to
adult$age <- ifelse(adult$age %in% 0:29,
"young",
ifelse(
adult$age %in% 30:49,
"middle-aged",
ifelse(adult$age %in% 50:69, "senior", "old")
))
adult$capitalGain <- ifelse(
adult$capitalGain <= 0,
"none ",
ifelse(
adult$capitalGain %in% 1:1999,
"small ",
ifelse(adult$capitalGain %in% 2000:4999, "medium", "high")
)
)
adult$capitalLoss <- ifelse(
adult$capitalLoss <= 0,
"none ",
ifelse(
adult$capitalLoss %in% 1:1999,
"small ",
ifelse(adult$capitalLoss %in% 2000:4999, "medium", "high")
)
)
adult$hoursPerWeek <- ifelse(
adult$hoursPerWeek <= 25,
"half-time",
ifelse(
adult$hoursPerWeek %in% 26:40,
"full-time",
ifelse(adult$hoursPerWeek %in% 41:60, "overtime", "too-many")
)
)
adult_transaction.data <-adult
adult_transaction.data$fnlwgt <- NULL
# Create a temporary directory
dir.create(path = "tmp", showWarnings = FALSE)
# Write our data.frame to a csv
write.csv(adult_transaction.data, "./tmp/adult_transaction.data.csv")
# Read that csv back in
adult_transaction.data <- read.transactions(
file = "./tmp/adult_transaction.data.csv",
format = "single",
sep = ",",
cols=c("V1","V2","V3","V4","V5","V6","V7","V8","V9","V10","V11","V12","V13","V14"),
rm.duplicates = T
)
# Read that csv back in
adult_transaction.data <- read.transactions(
file = "./tmp/adult_transaction.data.csv",
format = "single",
sep = ",",
cols=NULL,
rm.duplicates = T
)
adult_transaction.data <-adult
adult_transaction.data$fnlwgt <- NULL
# Create a temporary directory
dir.create(path = "tmp", showWarnings = FALSE)
# Write our data.frame to a csv
write.csv(adult_transaction.data, "./tmp/adult_transaction.data.csv")
# Read that csv back in
adult_transaction.data <- read.transactions(
file = "./tmp/adult_transaction.data.csv",
format = "basket",
sep = ",",
rm.duplicates = T
)
View(adult_transaction.data)
inspect(adult_transaction.data)
View(adult_transaction.data)
View(adult_transaction.data)
sumary(adult_transaction.data)
summary(adult_transaction.data)
write.csv(adult_transaction.data, "./tmp/adult_transaction.csv")
write(adult_transaction.data,file="./tmp/adult_transaction", format="basket")
inspect(adult_transaction.data)
summary(adult_transaction.data)
rules.all <- apriori(adult_transaction.data)
rules.adult.all <- apriori(adult)
inspect(rules.all)
rules.all
inspect(rules.all)
summary(adult_transaction.data)
#------------------------------------------------------------------------------
# STEP 1: READ DATA & PREPARE DATA FRAME
#------------------------------------------------------------------------------
# libray for needed package
library(dplyr)
library("arules")
library(foreign)
library(bannerCommenter)
#------------------------------------------------------------------------------
# STEP 1: READ DATA & PREPARE DATA FRAME
#
#read the data from the data file
adult <- read.csv("~/R/DataMining/HW2/adult.data", header = FALSE)
